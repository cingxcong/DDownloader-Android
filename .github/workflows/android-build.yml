name: Build DDownloader APK

on: push: branches: - main pull_request: branches: - main

jobs: build: runs-on: ubuntu-latest steps: - name: Checkout repository uses: actions/checkout@v3

- name: Set up Python
    uses: actions/setup-python@v4
    with:
      python-version: '3.x'
  
  - name: Install dependencies
    run: |
      sudo apt update
      sudo apt install -y git openjdk-17-jdk python3 python3-pip
      pip install buildozer
  
  - name: Build APK
    run: |
      buildozer -v android debug
  
  - name: Upload APK artifact
    uses: actions/upload-artifact@v3
    with:
      name: DDownloader-APK
      path: bin/*.apk

